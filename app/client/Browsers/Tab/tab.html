<html>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/main.css">
  	<script src="../vue.js"></script>
	<body>
		<div id="app">
            <div class="panel">
                <div class="panel-head">
                    <h1>Joueurs en ligne ({{ d.players.length }}/100)</h1>
                    <div class="close" @click="exit">X</div>
                </div>
                <div class="panel-body">
                    <table class="table-scroll small-first-col">
                        <thead>
                            <tr>
                                <th>ID </th>
                                <th>Pseudo</th>
                                <th>Loyauté</th>
                                <th>Ping</th>
                            </tr>
                        </thead>
                        <tbody class="body-half-screen">
                            <tr v-for="(p, i) in d.players">
                                <td>{{ i }} ({{ p.guid }})</td>
                                <td v-if="!p.aduty">{{ p.name }}</td>
                                <td v-else style="color: #d63031">{{ p.name }}</td>
                                <td>{{ p.loyality }}</td>
                                <td>{{ p.ping }}ms</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
		</div>
	</body>
</html>

<script>
const app = new Vue({
    el: '#app',
    data: {
        d: {
            players: [

            ]
        }
    },
	methods: {
		onlinePlayers: function(str) {
            alert(str);
            this.d.players = JSON.parse(str);
        },
        exit: function() {
			mp.trigger("cCloseCef"); 
		},
	}
});
</script>
